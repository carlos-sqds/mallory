# Internationalization (i18n) Setup

This directory contains translations for the Scout mobile app, currently supporting 5 languages for the login page.

## Supported Languages

- `en` - English (source)
- `es` - Spanish
- `tr` - Turkish
- `zh` - Chinese Simplified
- `fr` - French

## Structure

```
locales/
  en/
    login.json    (source translations)
  es/
    login.json    (Spanish translations)
  tr/
    login.json    (Turkish translations)
  zh/
    login.json    (Chinese Simplified translations)
  fr/
    login.json    (French translations)
```

## Setup Instructions

### 1. Install Dependencies

```bash
cd app/mobile
bun install
```

This will install:
- `i18next` - Core i18n library
- `react-i18next` - React bindings for i18n
- `react-native-localize` - Device language detection
- `@anthropic-ai/sdk` - For translation script
- `tsx` - For running TypeScript scripts

### 2. Set up Environment Variables

Create a `.env` file in `app/mobile/` with your Anthropic API key:

```bash
# app/mobile/.env
ANTHROPIC_API_KEY=your_anthropic_api_key_here
```

Or use your existing `.env` file if you already have one.

### 3. Generate Translations

The placeholder translations are already in place, but to regenerate them with Claude:

```bash
# Run the translation script (reads ANTHROPIC_API_KEY from .env)
bun run translate
```

This will:
1. Read the source English strings from `locales/en/login.json`
2. Call Claude Sonnet 4.5 to translate to each target language
3. Validate the output
4. Write translations to respective language files

### 4. Development

The app will automatically detect the device/browser language and use the appropriate translation.

**Dev Mode Language Picker:**
- A language picker button appears in the top-right of the login screen in dev mode only
- Click to select any of the 5 supported languages
- Selection persists in AsyncStorage for your dev session
- Hidden in production builds

## How It Works

1. **Initialization:** `app/_layout.tsx` initializes i18n at app startup
2. **Detection:** Uses `react-native-localize` to detect device language
3. **Fallback:** Falls back to English if device language isn't supported
4. **Dynamic Loading:** Locale files are dynamically imported to keep bundle size small
5. **Translation:** Components use `useTranslation()` hook to access translations

## Adding New Strings

1. Add the key/value to `locales/en/login.json`
2. Run `bun run translate` to generate translations
3. Use in components: `t('your_key')`

## Translation Quality

The current translations are generated by Claude Sonnet 4.5 with the following guidelines:
- Professional, aspirational tone
- Culturally appropriate (not literal)
- Similar length to avoid UI layout issues
- Context-aware for neobank/fintech industry

## Future Expansion

To add more languages:
1. Add language code to `TARGET_LANGUAGES` in `scripts/translate.ts`
2. Add to `SUPPORTED_LANGUAGES` in `lib/i18n.ts`
3. Add dynamic import case in `loadLocale()`
4. Add language info to `LanguagePicker.tsx`
5. Run `bun run translate`

## Files Modified

- `app/_layout.tsx` - Initialize i18n
- `app/(auth)/login.tsx` - Use translations + language picker
- `lib/i18n.ts` - i18n configuration
- `scripts/translate.ts` - Translation generation script
- `components/auth/LanguagePicker.tsx` - Dev mode language switcher
- `package.json` - Added dependencies and translate script

